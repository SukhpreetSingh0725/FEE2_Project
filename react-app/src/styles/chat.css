/* src/styles/chat.css */

/*
|--------------------------------------------------------------------------
| PAGE LAYOUT AND GRID FOR SIDEBAR TOGGLE (GEMINI LAYOUT)
|--------------------------------------------------------------------------
*/

/* FIXED CHAT LAYOUT (Prevents page from expanding) */
.chat-fixed-layout {
    height: calc(100vh - 9px);   /* Subtract navbar height */
    overflow: hidden;             
    display: flex;
    margin-top: 4px!important;
}

@tailwind base;
@tailwind components;
@tailwind utilities;



/*
|--------------------------------------------------------------------------
| TOGGLE BUTTONS (OPEN/CLOSE)
|--------------------------------------------------------------------------
*/

/* Button to close the sidebar (inside the sidebar header) */
.sidebar-toggle-btn {
    background: none;
    color: #00aaff;
    border: 1px solid #00aaff;
    padding: 6px 10px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.9rem;
    font-weight: bold;
    transition: background 0.3s, color 0.3s;
}
.sidebar-toggle-btn:hover {
    background: #00aaff;
    color: white;
}

/* Button to open the sidebar (floats next to the chat when closed) */
.sidebar-open-btn {
    background: #00aaff;
    color: white;
    border: none;
    padding: 9px 7px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.9rem;
    transition: background 0.3s;
    
    /* Position to make it look like it's attached to the chat window's edge */
    position: absolute;
    left: 0px; 
    z-index: 10;
}
.sidebar-open-btn:hover {
    background: #008fcc;
}


/*
|--------------------------------------------------------------------------
| FLASHCARDS SIDEBAR
|--------------------------------------------------------------------------
*/

.flashcards-sidebar {
    width: 350px;
    height: 100%;
    overflow-y: auto;
    flex-shrink: 0;
    padding: 17px;
}


.sidebar-closed .flashcards-sidebar {
    /* Hides the sidebar content visually when column width is 0 */
    transform: translateX(-100%); 
    border: none;
    padding: 0;
}
.chat-container-wrapper {
    display: grid;
    grid-template-columns: 350px 1fr;
    height: 100%;          /* <── ADD */
    overflow: hidden;      /* <── ADD */
}
.sidebar-closed.chat-container-wrapper {
    grid-template-columns: 0px 1fr;
    overflow: hidden;      /* <── ADD */
}

.sidebar-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid #00e5ff;
    padding-bottom: 10px;
    margin-bottom: 20px;
}

.flashcards-sidebar h2 {
    color: #00e5ff;
    margin: 0;
}

.flashcard-content {
    padding-top: 5px; 
}

/* --- FLASHCARD FORMS --- */

.flashcard-input-form {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 1px dashed #04f2e2;
}

.flashcard-input-form input,
.flashcard-input-form textarea {
    width: 100%;
    margin-bottom: 0; 
    padding: 8px;
    border: 1px solid #00aaff;
    border-radius: 4px;
    background-color: rgba(0, 0, 0, 0.6);
    color: #fff;
}

.flashcard-input-form button {
    width: 100%;
    padding: 10px;
    background-color: #00aaff;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.2s;
}

.flashcard-input-form button:hover {
    background-color: #008fcc;
}

/* --- FLASHCARD LIST ITEMS --- */

.flashcard-card {
    background-color: rgba(0, 0, 0, 0.4);
    padding: 10px;
    border-radius: 8px;
    margin-bottom: 10px;
    border-left: 3px solid #00aaff;
    color: #fff; 
}

.flashcard-question {
    font-weight: bold;
    margin-bottom: 5px;
}

.flashcard-answer {
    margin-top: 5px;
    padding: 5px 0;
    color: #00aaff;
    border-top: 1px dashed #555;
}

.flashcard-card .flashcard-actions {
    display: flex;
    justify-content: space-between;
    margin-top: 10px;
}

.toggle-answer-btn, .delete-card-btn {
    padding: 5px 10px;
    margin-top: 5px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.8rem;
    transition: background-color 0.3s;
    border: none;
}

.toggle-answer-btn {
    background-color: #444;
    color: white;
}
.toggle-answer-btn:hover {
    background-color: #555;
}

.delete-card-btn {
    background-color: #f44336; 
    color: white;
}
.delete-card-btn:hover {
    background-color: #d32f2f;
}


.view-all-btn, .clear-all-btn {
    width: 100%;
    padding: 8px;
    border-radius: 4px;
    cursor: pointer;
    margin-top: 10px;
    font-weight: bold;
    transition: background-color 0.2s;
    border: none;
}

.view-all-btn {
    background-color: #00aaff;
    color: white;
}

.clear-all-btn {
    background-color: #d33;
    color: white;
}
.view-all-btn:hover { background-color: #008fcc; }
.clear-all-btn:hover { background-color: #a32f2f; }


.no-cards-msg {
    text-align: center;
    color: #999;
    font-style: italic;
    margin-top: 20px;
}

/*
|--------------------------------------------------------------------------
| MAIN CHAT WINDOW
|--------------------------------------------------------------------------
*/

.chat-window-main {
    display: flex;
    flex-direction: column;
    position: relative; 
}

.chat-window-main h1 {
    color: #fff;
    font-size: 1.8rem;
    text-align: center;
    margin-bottom: 15px;
    margin-left: 50px;
}

.chat-window {
    display: flex;
    flex-direction: column;
    flex-grow: 1;
    border: 1px solid #00aaff;
    border-radius: 10px;
    overflow: hidden;
    background-color: rgba(0, 0, 0, 0.4);
}

.message-list {
    flex-grow: 1;
    height: 100%;
    overflow-y: auto;
    padding: 15px;
}


/* Customize scrollbar (optional, for aesthetics) */
.message-list::-webkit-scrollbar {
    width: 6px;
}
.message-list::-webkit-scrollbar-thumb {
    background: rgba(0, 170, 255, 0.5);
    border-radius: 3px;
}
.message-list::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.2);
}

.message {
    display: flex;
    margin-bottom: 10px;
}

.message.user {
    justify-content: flex-end;
}

.message.ai {
    justify-content: flex-start;
}

.message-bubble {
    max-width: 70%;
    padding: 10px 15px;
    border-radius: 20px;
    line-height: 1.4;
    font-size: 1rem;
    word-wrap: break-word;
}

.message.user .message-bubble {
    background-color: rgba(147, 149, 151, 0.2);
    color: white;
    border-bottom-right-radius: 5px;
}

.message.ai .message-bubble {
    background-color: rgba(147, 149, 151, 0.2);
    color: #f4f4f4; 
    border-bottom-left-radius: 5px;
}

.bot-message {
    white-space: pre-wrap;
    line-height: 1.6;
  }
  
  .bot-message p {
    margin: 8px 0;
  }
  
  .bot-message ul, .bot-message ol {
    margin-left: 20px;
  }
  
  .bot-message strong {
    color: #ffffff;
    font-weight: 600;
  }
  

/* Chat Input Form */
.chat-input-form {
    display: flex;
    padding: 10px 15px;
    border-top: 1px solid #00aaff;
    background-color: #1a1a1a;
}

.chat-input-form input {
    flex-grow: 1;
    padding: 10px;
    border: 1px solid #555;
    border-radius: 20px; 
    margin-right: 10px;
    background-color: #2a2a2a;
    color: white;
}

.chat-input-form button {
    padding: 10px 20px;
    background-color: #00aaff;
    color: white;
    border: none;
    border-radius: 20px; 
    cursor: pointer;
    font-weight: bold;
    transition: background-color 0.3s;
}

.chat-input-form button:hover {
    background-color: #008fcc;
}

@media (max-width: 600px){

}


.chat-header-container {
    background-color: #362f2f;
    border: 2px solid rgb(43, 55, 226);
}

.light .chat-header-container {
    background: linear-gradient(90deg, #81cbff, #ec9999) !important;
}


.chat-main-container {
    background-color: #362f2f;   
    color: #1A1A1A;
}

.light .chat-main-container {
    background: linear-gradient(90deg, #81cbff, #ec9999) !important;

    color: #E5E7EB;
}

/* USER MESSAGE (sent by you) */
.user-message-bubble {
    background-color: #E8ECF3;       /* Light mode bubble color */
    color: #1A1A1A;
    font-weight: bold;
    padding: 10px 14px;
    border-radius: 14px;
    max-width: 70%;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}

.light .user-message-bubble {
    background-color: #81cbff;       /* Dark mode bubble color */
    color: #030303;
    font-weight: bold;
    
}

/* AI MESSAGE (received from AI) */
.ai-message-bubble {
    background-color: #E8ECF3;       /* Light mode AI bubble */
    color: #1A1A1A;
    font-weight: bold;
    padding: 5px 12px;
    border-radius: 14px;
    max-width: 70%;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

.light .ai-message-bubble {
    background-color: #f89696;       /* Dark mode AI bubble */
    color: #000;
   
}



/* SEND BUTTON */
.send-button {
    background: linear-gradient(90deg, #4a97ce, #d46a6a) !important;
    color: #000;
    transition: background-color 0.2s ease, transform 0.1s ease;
}

.send-button:hover {
    background-color: #005BBB;      /* Light mode hover */
    transform: scale(1.03);
}

.light .send-button {
    background-color: #2563EB;      /* Dark mode color */
}

.light .send-button:hover {
    background-color: #1D4ED8;      /* Dark mode hover */
}

/* INPUT CONTAINER (the gray box around input + send button) */
.input-container {
    background-color: #362f2f;        /* Light mode input container */
}

.light .input-container {
    background: linear-gradient(90deg, #81cbff, #ec9999) !important;      /* Dark mode input container */
}

/* FLASHCARD SIDEBAR */
.flashcard-sidebar {
    background-color:  #362f2f;     /* Light mode background */
    border-right: 1px solid #CBD5E1;  /* Light mode border */
    color: #ffffff;
}

/* DARK MODE SIDEBAR */
.light .flashcard-sidebar {
    background: linear-gradient(90deg, #81cbff, #ec9999) !important;      /* Dark mode input container */
    border-right: 1px solid #1E293B;
    color: #000000;
}



.flashcard-item {
    background-color: #f1ecec;         /* Light card background */
    border-color: #CBD5E1;
    width: 100%;
    color: black;
}

.light .flashcard-item {
    background-color: #1E293B;         /* Dark card background */
    border-color: #334155;
    color: white;
}


.virat {
    background-color: #362f2f;
    border: 2px solid rgb(43, 55, 226);
    padding: 9px 25px;
    color: white;
    font-weight: bold;
}

.light .virat{
    background: linear-gradient(90deg, #81cbff, #ec9999) !important;
    color: black;
    font-weight: bold;
    font-size: 16px;
}
